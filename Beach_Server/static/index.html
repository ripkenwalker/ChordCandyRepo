
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS file -->
    <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">-->
    <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"> -->
    <script src="testscript.js" defer></script>
  </head>
<body>
        <title>Chord Candy Flask Starter App</title>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> 
   
        <script type=text/javascript>
            $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
        </script>
        <script type="text/javascript">  
            var send_request = function() {
                    document.getElementById("output").innerHtml="<p align='center' style='color:grey;'>(processing...)</p>"
                    var xhr = new XMLHttpRequest();
                    xhr.addEventListener('load',handle_response)
                    chord1 = document.getElementById("chord1").value;
                    chord2 = document.getElementById("chord2").value;
                    chord3 = document.getElementById("chord3").value;
                    chord4 = document.getElementById("chord4").value;


                    xhr.open('GET', '/chordsend?chord1=' + chord1 + 
                                                  "&chord2=" + chord2 + 
                                                  "&chord3=" + chord3 + 
                                                  "&chord4=" + chord4, true);                   
                    xhr.send();
                };
            
             function handle_response(e){
                 console.log(JSON.parse(this.response));
                 response = JSON.parse(this.response)
                 document.getElementById("output").innerHTML = response;
             }
        </script>
        <div class = "container">
            <div class="col-lg-9"></div>
                <h4>Chord Request</h4>
                
                <p style="text-align:center" style="line-height: 1.5">
                    <label>Chord 1</label><input id="chord1" type="text"/></label>
                    <label>Chord 2</label><input id="chord2" type="text"/></label>
                    <label>Chord 3</label><input id="chord3" type="text"/></label>
                    <label>Chord 4</label><input id="chord4" type="text"/></label>

                
                    <input type="button" onclick="send_request()">
                    
                </p>
            </div>

        <div id="output" style="margin: 10px;"></div>

    </body>
</html>